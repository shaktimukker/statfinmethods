---
title: 'PCA on Swap Rates'
author: Casey Tirshfield
output: html_notebook
---

## The file $\texttt{m_swap.txt}$ contains the monthly swap rates $r_{kt}$ for eight maturities $T_k=1,2,3,4,5,7,10,$ and $30$ years from July 2000 to June 2007.

```{r}
# import .txt file as data frame
df <- read.table('m_swap.txt', skip=1, header=TRUE)

# we deal with monthly change
swap.diff <- apply(df[,-1], 2, diff)
```

### (a) Perform a principal component analysis (PCA) of the data using the sample covariance matrix.

```{r}
covPCA <- princomp(swap.diff, cor=FALSE)
summary(covPCA)
```

This plots $\frac{\lambda_i}{\textrm{tr}(\mathbf{V})}$ for each $i$:
```{r}
screeplot(covPCA) 
```

### (b) Perform a PCA of the data using the sample correlation matrix.

```{r}
corPCA <- princomp(swap.diff, cor=TRUE)
summary(corPCA)

screeplot(corPCA)
```

### (c) Compare your results with those in Section 2.2.3 of Tze Leung Lai and Haipeng Xing's book, "Statistical Models and Methods for Financial Markets" for the daily data. Discuss the influence of sampling frequency on the result.

```{r}
loadings <- t(corPCA$loadings[,1:3])

colnames(loadings) <- c('1 yr', '2 yr', '3 yr', '4 yr', '5yr',
                        '7 yr', '10 yr', '30 yr')

barplot(loadings, main = 'Loadings of Top 3 PCs', xlab='Maturities',
        col=c('red', 'orange', 'yellow'),
        
legend = rownames(loadings), beside=TRUE, args.legend=list(x='top'))
```


Both my results and the results given in Section 2.2.3 of Tze Leung Lai and Haipeng Xing's book, "Statistical Models and Methods for Financial Markets", indicated that greater than 90% of the variance can be explained by the first principal component. This would lead me to believe that the affects of sampling frequency are not significant, and that the rates share a common factor.